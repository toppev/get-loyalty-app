<!--
For developers:
- These HTML files are processed with handlebars (https://handlebarsjs.com/)
- Looking for all placeholders? Visit "https://<your app>.myapp.getloyalty.app/api/page/placeholder-context" when logged in as the business owner
-->

<h1 class="page-title">{{business.name}}</h1>
<div class="page-content">
    <div class="page-text m-2 py-2" style="font-size: 18px">
        <!-- Triple brackets, e.g., {{{placeholder}}} will not escape HTML so we can use <br/> for line breaks, for example. -->
        {{{business.description}}}
    </div>

    <div class="flex justify-center items-center text-left">
        <div class="m-5 bg-white py-6 px-12 rounded-xl hover:scale-105 duration-500 transform transition">
            <h2 class="text-center mb-1 font-bold text-pink-600">
                Customer Level
            </h2>
            <p class="text-center text-xs text-gray-700 pb-4">
                Participate in the campaigns to level up and earn rewards.
            </p>
            <div class="flex justify-between">
                <div>
                    <h3 class="text-xs uppercase">Current level</h3>
                    <h2 class="">{{currentLevel.name}}</h2>
                </div>
                <div class="text-right">
                    <h3 class="text-xs uppercase font-bold">Next level</h3>
                    <h2 class="font-bold">{{nextLevel.name}}</h2>
                </div>
            </div>
            <div class="mt-5 mb-8">


                <p class="text-gray-600">
                    <span class="font-bold">{{currentLevel.progress}}% </span>
                    {{#if nextLevel.pointsNeeded}}
                        <span>- {{nextLevel.pointsNeeded}} more points needed</span>
                    {{/if}}
                </p>
                <div class="bg-gray-400 h-3 rounded-lg mt-2">
                    <div
                            style="width: {{currentLevel.progress}}%; box-shadow: inset rgb(255 47 100) 2px 0px 5px 4px, rgb(255 47 150) 2px 0px 4px 1px"
                            class="bg-pink-400 h-full rounded-lg"
                    ></div>
                </div>
            </div>
            {{#if nextLevel.rewards}}
            <hr class="mb-1" style="border-color: lightgray;"/>
            <h3 class="text-xs uppercase">Next Rewards:</h3>
            <div class="mt-1 divide-y divide-slate-100">
                {{#each nextLevel.rewards}}
                <div class="mb-2">
                    <div class="reward-title">
                        {{#if itemDiscount}}
                        <p class="w-max bg-gray-200 p-1 px-2 mr-2 -ml-1 rounded-full text-xs font-medium text-gray-900">
                            {{itemDiscount}}
                        </p>
                        {{/if}}
                        <p>{{name}}</p>
                    </div>
                    <p class="text-gray-600">{{description}}</p>
                    <p class="text-points">
                        {{#if customerPoints}}
                        <b>+{{customerPoints}}</b> points!
                        {{/if}}
                    </p>
                    <p class="text-warning">{{requirement}}</p>
                </div>
                {{/each}}
            </div>
            {{/if}}
        </div>
    </div>

    {{#if business.address}}
    <div class="m-6 py-10">
        <p class="m-3 text-lg text-gray-200">
            {{business.name}} on Google Maps
        </p>
        <div style="width: 100%">
            <!-- Zoom more or less? Increase/decrease the "&z=16" -->
            <iframe class="rounded-lg" width="100%" height="400"
                    src="https://maps.google.com/maps?width=100%25&amp;height=600&amp;hl=en&amp;q={{business.address}}({{business.address}})&amp;t=&amp;z=16&amp;ie=UTF8&amp;iwloc=B&amp;output=embed"></iframe>
        </div>
    </div>
    {{/if}}

</div>
